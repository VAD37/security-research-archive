# Typo in `PoolV3.repayCreditAccount()`. `convertToShares` and `_convertToShares`

`PoolV3` logic dictate that share:assets ratio is always 1:1.
<https://github.com/code-423n4/2024-07-loopfi/blob/57871f64bdea450c1f04c9a53dc1a78223719164/src/PoolV3.sol#L427-L439>

So most of `PoolV3` use function `_convertToShares()` to handle share conversion.

With the exception of `repayCreditAccount()` use original OpenZeppellin ERC4626 function `convertToShares()`, which might not return 1:1 conversion.

## Impact

Miscalculation for profit and loss while mint/burn share to treasury

## Proof of Concept

PoolV3 use `_convertToShares()` for most operation.

Here is use `convertToShares()`.
<https://github.com/code-423n4/2024-07-loopfi/blob/57871f64bdea450c1f04c9a53dc1a78223719164/src/PoolV3.sol#L548-L564>
Which just point to original ERC4626.

```solidity
    /** @dev See {IERC4626-convertToShares}. */
    function convertToShares(uint256 assets) public view virtual override returns (uint256) {
        return _convertToShares(assets, Math.Rounding.Down);
    }

    /** @dev See {IERC4626-convertToAssets}. */
    function convertToAssets(uint256 shares) public view virtual override returns (uint256) {
        return _convertToAssets(shares, Math.Rounding.Down);
    }
```

`PoolV3` never override `_convertToAssets(uint256, Math.Rounding)`.
So it use default ERC4626 conversion logic: share = inputAssets * totalSupply / totalAssets.

Because assets here will be lended away. so conversion ratio rarely 1:1. Causing conversion error.

The end results would be treasury profit/loss recording might be different from expected.

## Tools Used

## Recommended Mitigation Steps

Fix Typo, `convertToShares()` to `_convertToShares()`