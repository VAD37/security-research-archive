# `PoolAction.transferAndJoin()` can be used to steal token from user make approval to `PoolAction` contract directly instead of through `PRBProxy`

## Impact

If there is any token approval to `PoolAction.sol` contract, anyone can steal token from other user.
PoolAction supposed to be proxy call only. So updating it to delegateCall would fix the issue.

It seem like normal user will use `PRBProxy` to interact with `PoolAction`.
This was not delegate call because it was not refactor yet.
So, the most affected user by this is developer making mistake. Medium issue.

## Proof of Concept

Unlike `PositionAction.sol` only allow delegate call through PRBProxy contract.

`PoolAction` allow user to interact through EOA wallet directly. [As per comment here](https://github.com/code-423n4/2024-07-loopfi/blob/57871f64bdea450c1f04c9a53dc1a78223719164/src/proxy/PoolAction.sol#L70).

User must give allowance to PoolAction for interaction.
However, `PoolAction.transferAndJoin()` does not check caller is same as address to transfer token from.
<https://github.com/code-423n4/2024-07-loopfi/blob/57871f64bdea450c1f04c9a53dc1a78223719164/src/proxy/PoolAction.sol#L93>
From `address` can be any target, and `ApprovalType == STANDARD`.
It would go from here: <https://github.com/code-423n4/2024-07-loopfi/blob/57871f64bdea450c1f04c9a53dc1a78223719164/src/proxy/PoolAction.sol#L93>
Then redirect to here: <https://github.com/code-423n4/2024-07-loopfi/blob/57871f64bdea450c1f04c9a53dc1a78223719164/src/proxy/TransferAction.sol#L80>

Transfer token from user to PoolAction contract.
Then use these new token to join some pool. And effectively steal token from other user.

## Tools Used

<https://github.com/code-423n4/2024-07-loopfi/blob/57871f64bdea450c1f04c9a53dc1a78223719164/src/proxy/PoolAction.sol#L93>

## Recommended Mitigation Steps

Add `onlyDelegateCall` modifier to `PoolAction` to prevent user mistake.
