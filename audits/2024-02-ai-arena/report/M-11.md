# Redeem MintPass allow user mint non exist fighter type. Causing unexpected unhandled problem with gameserver

There is only exist 2 fighterType. 0 for premium fighter with custom DNA, 1 for default fighter.

`FighterFarm.redeemMintPass()` allow user input anything as long as they have enough mint pass to burn.
This include `FighterType` id which can be any number.

## Impact

`FighterFarm._createNewFighter()` does not fail when `fighterType > 1`.
Mint will success, there will exist an NFT with invalid `fighterType`.

The only one might have problem with this is game client or gameserver handling battle simulation might not have any logic to handle non exist fighterType.
Causing unknown problem.

## Proof of Concept

Redeem have no input verification
<https://github.com/code-423n4/2024-02-ai-arena/blob/f2952187a8afc44ee6adc28769657717b498b7d4/src/FighterFarm.sol#L233-L261>

FighterType can only be 1 or 0.
<https://github.com/code-423n4/2024-02-ai-arena/blob/f2952187a8afc44ee6adc28769657717b498b7d4/src/FighterFarm.sol#L127>

Fighter DNA will be `fighterType` id
<https://github.com/code-423n4/2024-02-ai-arena/blob/f2952187a8afc44ee6adc28769657717b498b7d4/src/FighterFarm.sol#L462-L474>

`generation` will return 0 and `numsElement[]` will always be 3.
There is nothing to prevent minting `fighterType > 1` from failing.

## Tools Used

<https://github.com/code-423n4/2024-02-ai-arena/blob/f2952187a8afc44ee6adc28769657717b498b7d4/src/FighterFarm.sol#L233-L261>

## Recommended Mitigation Steps

Add require check for Fighter Type

```solidity
    function _createNewFighter(
        address to, 
        uint256 dna, //@hash from msg.sender . can be manipulated
        string memory modelHash,//@user ipfs url
        string memory modelType, //@user "original"
        uint8 fighterType,//0 or 1 //@audit M redeem user can use non exist fighter type to bypass DNA _createFighterBase()
        uint8 iconsType,//0
        uint256[2] memory customAttributes//@[uint256(100), uint256(100)] default value or from merging pools
    ) 
        private 
    {  
        require(fighterType < 2);//@
        require(balanceOf(to) < MAX_FIGHTERS_ALLOWED);
```
